/*!
 * Readmore.js jQuery plugin
 * Author: @jed_foster
 * Project home: jedfoster.github.io/Readmore.js
 * Licensed under the MIT license
 */

/**
 * @license                                     
 * jQuery Tools @VERSION Dateinput - <input type="date" /> for humans
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/form/dateinput/
 *
 * Since: Mar 2010
 * Date: @DATE 
 */

/*!
* FitVids 1.1
*
* Copyright 2013, Chris Coyier - http://css-tricks.com + Dave Rupert - http://daverupert.com
* Credit to Thierry Koblentz - http://www.alistapart.com/articles/creating-intrinsic-ratios-for-video/
* Released under the WTFPL license - http://sam.zoy.org/wtfpl/
*
*/

define("shim!vendor/jquery-readmore[jquery=jQuery]",["jquery"],function(e){return function(e){function t(t,a){if(this.element=t,this.options=e.extend({},n,a),e(this.element).data("max-height",this.options.maxHeight),e(this.element).data("height-margin",this.options.heightMargin),delete this.options.maxHeight,this.options.embedCSS&&!o){var r=".readmore-js-toggle, .readmore-js-section { "+this.options.sectionCSS+" } .readmore-js-section { overflow: hidden; }";!function(e,t){var i=e.createElement("style");i.type="text/css",i.styleSheet?i.styleSheet.cssText=t:i.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(i)}(document,r),o=!0}this._defaults=n,this._name=i,this.init()}var i="readmore",n={speed:100,maxHeight:200,heightMargin:16,moreLink:'<a href="#">Read More</a>',lessLink:'<a href="#">Close</a>',embedCSS:!0,sectionCSS:"display: block; width: 100%;",startOpen:!1,expandedClass:"readmore-js-expanded",collapsedClass:"readmore-js-collapsed",beforeToggle:function(){},afterToggle:function(){}},o=!1;t.prototype={init:function(){var t=this;e(this.element).each(function(){var i=e(this),n=i.css("max-height").replace(/[^-\d\.]/g,"")>i.data("max-height")?i.css("max-height").replace(/[^-\d\.]/g,""):i.data("max-height"),o=i.data("height-margin");if("none"!=i.css("max-height")&&i.css("max-height","none"),t.setBoxHeight(i),i.outerHeight(!0)<=n+o)return!0;i.addClass("readmore-js-section "+t.options.collapsedClass).data("collapsedHeight",n);var a=t.options.startOpen?t.options.lessLink:t.options.moreLink;i.after(e(a).on("click",function(e){t.toggleSlider(this,i,e)}).addClass("readmore-js-toggle")),t.options.startOpen||i.css({height:n})}),e(window).on("resize",function(){t.resizeBoxes()})},toggleSlider:function(t,i,n){n.preventDefault();var o=this,a=newLink=sectionClass="",r=!1,d=e(i).data("collapsedHeight");e(i).height()<=d?(a=e(i).data("expandedHeight")+"px",newLink="lessLink",r=!0,sectionClass=o.options.expandedClass):(a=d,newLink="moreLink",sectionClass=o.options.collapsedClass),o.options.beforeToggle(t,i,r),e(i).animate({height:a},{duration:o.options.speed,complete:function(){o.options.afterToggle(t,i,r),e(t).replaceWith(e(o.options[newLink]).on("click",function(e){o.toggleSlider(this,i,e)}).addClass("readmore-js-toggle")),e(this).removeClass(o.options.collapsedClass+" "+o.options.expandedClass).addClass(sectionClass)}})},setBoxHeight:function(e){var t=e.clone().css({height:"auto",width:e.width(),overflow:"hidden"}).insertAfter(e),i=t.outerHeight(!0);t.remove(),e.data("expandedHeight",i)},resizeBoxes:function(){var t=this;e(".readmore-js-section").each(function(){var i=e(this);t.setBoxHeight(i),(i.height()>i.data("expandedHeight")||i.hasClass(t.options.expandedClass)&&i.height()<i.data("expandedHeight"))&&i.css("height",i.data("expandedHeight"))})},destroy:function(){var t=this;e(this.element).each(function(){var i=e(this);i.removeClass("readmore-js-section "+t.options.collapsedClass+" "+t.options.expandedClass).css({"max-height":"",height:"auto"}).next(".readmore-js-toggle").remove(),i.removeData()})}},e.fn[i]=function(n){var o=arguments;return void 0===n||"object"==typeof n?this.each(function(){if(e.data(this,"plugin_"+i)){var o=e.data(this,"plugin_"+i);o.destroy.apply(o)}e.data(this,"plugin_"+i,new t(this,n))}):"string"==typeof n&&"_"!==n[0]&&"init"!==n?this.each(function(){var a=e.data(this,"plugin_"+i);a instanceof t&&"function"==typeof a[n]&&a[n].apply(a,Array.prototype.slice.call(o,1))}):void 0}}(e),null}),define("shim!vendor/jquery.tools.dateinput[jquery=jQuery]>jQuery",["jquery"],function(e){return function(e,t){function i(e,t){return new Date(e,t+1,0).getDate()}function n(e,t){for(e=""+e,t=t||2;e.length<t;)e="0"+e;return e}function o(e,t,i,o){var a=t.getDate(),r=t.getDay(),d=t.getMonth(),s=t.getFullYear(),u={d:a,dd:n(a),ddd:f[o].shortDays[r],dddd:f[o].days[r],m:d+1,mm:n(d+1),mmm:f[o].shortMonths[d],mmmm:f[o].months[d],yy:String(s).slice(2),yyyy:s},l=c[e](i,t,u,o);return p.html(l).html()}function a(e){return parseInt(e,10)}function r(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()==t.getMonth()&&e.getDate()==t.getDate()}function d(e){if(e!==t){if(e.constructor==Date)return e;if("string"==typeof e){var i=e.split("-");if(3==i.length)return new Date(a(i[0]),a(i[1])-1,a(i[2]));if(!/^-?\d+$/.test(e))return;e=a(e)}var n=new Date;return n.setDate(n.getDate()+e),n}}function s(n,s){function u(t,i,a){M=t,v=t.getFullYear(),y=t.getMonth(),w=t.getDate(),a||(a=e.Event("api")),"click"==a.type&&e.support.changeBubbles&&n.focus(),a.type="beforeChange",I.trigger(a,[t]),a.isDefaultPrevented()||(n.val(o(i.formatter,t,i.format,i.lang)),a.type="change",I.trigger(a),n.data("date",t),C.hide(a))}function c(t){t.type="onShow",I.trigger(t),e(document).on("keydown.d",function(t){if(t.ctrlKey)return!0;var i=t.keyCode;if(8==i||46==i)return n.val(""),C.hide(t);if(27==i||9==i)return C.hide(t);if(e(h).index(i)>=0){if(!b)return C.show(t),t.preventDefault();var o=e("#"+z.weeks+" a"),a=e("."+z.focus),r=o.index(a);return a.removeClass(z.focus),74==i||40==i?r+=7:75==i||38==i?r-=7:76==i||39==i?r+=1:(72==i||37==i)&&(r-=1),r>41?(C.addMonth(),a=e("#"+z.weeks+" a:eq("+(r-42)+")")):0>r?(C.addMonth(-1),a=e("#"+z.weeks+" a:eq("+(r+42)+")")):a=o.eq(r),a.addClass(z.focus),t.preventDefault()}return 34==i?C.addMonth():33==i?C.addMonth(-1):36==i?C.today():(13==i&&(e(t.target).is("select")||e("."+z.focus).click()),e([16,17,18,9]).index(i)>=0)}),e(document).on("click.d",function(t){var i=t.target;e(i).parents("#"+z.root).length||i==n[0]||p&&i==p[0]||C.hide(t)})}var p,m,g,v,y,w,b,x,C=this,k=new Date,j=k.getFullYear(),z=s.css,D=f[s.lang],S=e("#"+z.root),q=S.find("#"+z.title),M=n.attr("data-value")||s.value||n.val(),T=n.attr("min")||s.min,V=n.attr("max")||s.max;if(0===T&&(T="0"),M=d(M)||k,T=d(T||new Date(j+s.yearRange[0],1,1)),V=d(V||new Date(j+s.yearRange[1]+1,1,-1)),!D)throw"Dateinput: invalid language: "+s.lang;if("date"==n.attr("type")){var x=n.clone(),L=x.wrap("<div/>").parent().html(),H=e(L.replace(/type/i,"type=text data-orig-type"));s.value&&H.val(s.value),n.replaceWith(H),n=H}n.addClass(z.input);var I=n.add(C);if(!S.length){if(S=e("<div><div><a/><div/><a/></div><div><div/><div/></div></div>").hide().css({position:"absolute"}).attr("id",z.root),S.children().eq(0).attr("id",z.head).end().eq(1).attr("id",z.body).children().eq(0).attr("id",z.days).end().eq(1).attr("id",z.weeks).end().end().end().find("a").eq(0).attr("id",z.prev).end().eq(1).attr("id",z.next),q=S.find("#"+z.head).find("div").attr("id",z.title),s.selectors){var N=e("<select/>").attr("id",z.month),F=e("<select/>").attr("id",z.year);q.html(N.add(F))}for(var O=S.find("#"+z.days),_=0;7>_;_++)O.append(e("<span/>").text(D.shortDays[(_+s.firstDay)%7]));e("body").append(S)}s.trigger&&(p=e("<a/>").attr("href","#").addClass(z.trigger).click(function(e){return s.toggle?C.toggle():C.show(),e.preventDefault()}).insertAfter(n));var A=S.find("#"+z.weeks);F=S.find("#"+z.year),N=S.find("#"+z.month),e.extend(C,{show:function(t){if(!(n.attr("readonly")||n.attr("disabled")||b||(t=t||e.Event(),t.type="onBeforeShow",I.trigger(t),t.isDefaultPrevented()))){e.each(l,function(){this.hide()}),b=!0,N.off("change").change(function(){C.setValue(a(F.val()),a(e(this).val()))}),F.off("change").change(function(){C.setValue(a(e(this).val()),a(N.val()))}),m=S.find("#"+z.prev).off("click").click(function(){return m.hasClass(z.disabled)||C.addMonth(-1),!1}),g=S.find("#"+z.next).off("click").click(function(){return g.hasClass(z.disabled)||C.addMonth(),!1}),C.setValue(M);var i=n.offset();return/iPad/i.test(navigator.userAgent)&&(i.top-=e(window).scrollTop()),S.css({top:i.top+n.outerHeight(!0)+s.offset[0],left:i.left+s.offset[1]}),s.speed?S.show(s.speed,function(){c(t)}):(S.show(),c(t)),C}},setValue:function(n,o,l){var c=a(o)>=-1?new Date(a(n),a(o),a(l==t||isNaN(l)?1:l)):n||M;if(T>c?c=T:c>V&&(c=V),"string"==typeof n&&(c=d(n)),n=c.getFullYear(),o=c.getMonth(),l=c.getDate(),-1==o?(o=11,n--):12==o&&(o=0,n++),!b)return u(c,s),C;y=o,v=n,w=l;var h,f=new Date(n,o,1-s.firstDay),p=f.getDay(),x=i(n,o),j=i(n,o-1);if(s.selectors){N.empty(),e.each(D.months,function(t,i){T<new Date(n,t+1,1)&&V>new Date(n,t,0)&&N.append(e("<option/>").html(i).attr("value",t))}),F.empty();for(var S=k.getFullYear(),L=S+s.yearRange[0];L<S+s.yearRange[1];L++)T<new Date(L+1,0,1)&&V>new Date(L,0,0)&&F.append(e("<option/>").text(L));N.val(o),F.val(n)}else q.html(D.months[o]+" "+n);A.empty(),m.add(g).removeClass(z.disabled);for(var H,I,O=p?0:-7;(p?42:35)>O;O++)H=e("<a/>"),O%7===0&&(h=e("<div/>").addClass(z.week),A.append(h)),p>O?(H.addClass(z.off),I=j-p+O+1,c=new Date(n,o-1,I)):O>=p+x?(H.addClass(z.off),I=O-x-p+1,c=new Date(n,o+1,I)):(I=O-p+1,c=new Date(n,o,I),r(M,c)?H.attr("id",z.current).addClass(z.focus):r(k,c)&&H.attr("id",z.today)),T&&T>c&&H.add(m).addClass(z.disabled),V&&c>V&&H.add(g).addClass(z.disabled),H.attr("href","#"+I).text(I).data("date",c),h.append(H);return A.find("a").click(function(t){var i=e(this);return i.hasClass(z.disabled)||(e("#"+z.current).removeAttr("id"),i.attr("id",z.current),u(i.data("date"),s,t)),!1}),z.sunday&&A.find("."+z.week).each(function(){var t=s.firstDay?7-s.firstDay:0;e(this).children().slice(t,t+1).addClass(z.sunday)}),C},setMin:function(e,t){return T=d(e),t&&T>M&&C.setValue(T),C},setMax:function(e,t){return V=d(e),t&&M>V&&C.setValue(V),C},today:function(){return C.setValue(k)},addDay:function(e){return this.setValue(v,y,w+(e||1))},addMonth:function(e){var t=y+(e||1),n=i(v,t),o=n>=w?w:n;return this.setValue(v,t,o)},addYear:function(e){return this.setValue(v+(e||1),y,w)},destroy:function(){n.add(document).off("click.d keydown.d"),S.add(p).remove(),n.removeData("dateinput").removeClass(z.input),x&&n.replaceWith(x)},hide:function(t){if(b){if(t=e.Event(),t.type="onHide",I.trigger(t),t.isDefaultPrevented())return;e(document).off("click.d keydown.d"),S.hide(),b=!1}return C},toggle:function(){return C.isOpen()?C.hide():C.show()},getConf:function(){return s},getInput:function(){return n},getCalendar:function(){return S},getValue:function(e){return e?o(s.formatter,M,e,s.lang):M},isOpen:function(){return b}}),e.each(["onBeforeShow","onShow","change","onHide"],function(t,i){e.isFunction(s[i])&&e(C).on(i,s[i]),C[i]=function(t){return t&&e(C).on(i,t),C}}),s.editable||n.on("focus.d click.d",C.show).keydown(function(t){var i=t.keyCode;return!b&&e(h).index(i)>=0?(C.show(t),t.preventDefault()):((8==i||46==i)&&n.val(""),t.shiftKey||t.ctrlKey||t.altKey||9==i?!0:t.preventDefault())}),d(n.val())&&u(M,s)}e.tools=e.tools||{version:"@VERSION"};var u,l=[],c={},h=[75,76,38,39,74,72,40,37],f={};u=e.tools.dateinput={conf:{format:"mm/dd/yy",formatter:"default",selectors:!1,yearRange:[-5,5],lang:"en",offset:[0,0],speed:0,firstDay:0,min:t,max:t,trigger:0,toggle:0,editable:0,css:{prefix:"cal",input:"date",root:0,head:0,title:0,prev:0,next:0,month:0,year:0,days:0,body:0,weeks:0,today:0,current:0,week:0,off:0,sunday:0,focus:0,disabled:0,trigger:0}},addFormatter:function(e,t){c[e]=t},localize:function(t,i){e.each(i,function(e,t){i[e]=t.split(",")}),f[t]=i}},u.localize("en",{months:"January,February,March,April,May,June,July,August,September,October,November,December",shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec",days:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday",shortDays:"Sun,Mon,Tue,Wed,Thu,Fri,Sat"});var p=e("<a/>");u.addFormatter("default",function(e,t,i){return e.replace(/d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*'/g,function(e){return e in i?i[e]:e})}),u.addFormatter("prefixed",function(e,t,i){return e.replace(/%(d{1,4}|m{1,4}|yy(?:yy)?|"[^"]*"|'[^']*')/g,function(e,t){return t in i?i[t]:e})}),e.expr[":"].date=function(t){var i=t.getAttribute("type");return i&&"date"==i||!!e(t).data("dateinput")},e.fn.dateinput=function(t){if(this.data("dateinput"))return this;t=e.extend(!0,{},u.conf,t),e.each(t.css,function(e,i){i||"prefix"==e||(t.css[e]=(t.css.prefix||"")+(i||e))});var i;return this.each(function(){var n=new s(e(this),t);l.push(n);var o=n.getInput().data("dateinput",n);i=i?i.add(o):o}),i?i:this}}(e),e}),define("modules/jquery-dateinput-localized",["shim!vendor/jquery.tools.dateinput[jquery=jQuery]>jQuery","underscore","hyprlive"],function(e,t,i){var n="January,February,March,April,May,June,July,August,September,October,November,December".split(","),o="Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),a=(navigator.language||"en-US").split("-").shift();e.tools.dateinput.conf.locale=a,e.tools.dateinput.localize(a,{months:t.map(n,function(e){return i.getLabel(e.toLowerCase())}).join(","),shortMonths:t.map(n,function(e){return i.getLabel("short"+e)}).join(","),days:t.map(o,function(e){return i.getLabel(e.toLowerCase())}).join(","),shortDays:t.map(o,function(e){return i.getLabel("short"+e)}).join(",")})}),define("modules/jquery-monitor-view",["jquery","underscore"],function(e,t){function i(e){var t=u.scrollTop(),i=t+u.height(),n=e.offset().top,o=n+e.height();return o>=t&&i>=n&&i>=o&&n>=t}function n(){var e,t,n;for(s=0;r>s;s++)e=d[s],n=e.is,t=i(e.$el),t&&!n&&e.$el.trigger("inview"),!t&&n&&e.$el.trigger("outofview"),e.is=t}function o(e){d.push({$el:e,is:i(e)}),r=d.length,n(),1===r&&u.on("scroll",n)}function a(e){d=t.reject(d,function(t){return t.$el[0]===e[0]}),r=d.length,0===r&&u.off("scroll",n)}var r,d=[],s=0,u=e(window);n=t.debounce(n,200),e.fn.monitorView=function(e){return e===!1?a(this):o(this),this}}),require(["modules/jquery-mozu","hyprlive","underscore","modules/backbone-mozu","modules/models-product","modules/views-productimages","modules/soft-cart","modules/bazaar-voice","modules/modal-login","shim!vendor/jquery-readmore[jquery=jQuery]","modules/jquery-dateinput-localized","modules/jquery-monitor-view"],function(e,t,i,n,o,a,r,d,s){var u=n.MozuView.extend({templateName:"modules/product/product-detail",autoUpdate:["quantity"],additionalEvents:{"change [data-mz-product-option]":"onOptionChange","blur [data-mz-product-option]":"onOptionChange"},render:function(){var o=this;n.MozuView.prototype.render.apply(this),this.$("[data-mz-is-datepicker]").each(function(n,a){e(a).dateinput().css("color",t.getThemeSetting("textColor")).on("change  blur",i.bind(o.onOptionChange,o))})},onOptionChange:function(t){return this.configure(e(t.currentTarget))},configure:function(e){var t,i=e.val(),n=e.data("mz-product-option"),o=this.model.get("options").get(n);o&&(t=o.get("value"),t===i||void 0===t&&""===i||o.set("value",i))},addToCart:function(){this.model.addToCart()},addToWishlist:function(){return require.mozuData("user").isAnonymous?(s.create(this.model.id),void 0):(this.model.addToWishlist(),void 0)},checkLocalStores:function(t){var i=this;t.preventDefault(),this.model.whenReady(function(){var n=e(t.currentTarget).parents("[data-mz-localstoresform]"),o=n.find("[data-mz-localstoresform-input]");o.length>0&&(o.val(JSON.stringify(i.model.toJSON())),n[0].submit())})},initialize:function(){var t=this;this.$("[data-mz-product-option]").each(function(){var i,n,o=e(this);if(o.val())switch(o.attr("type")){case"checkbox":case"radio":i=o.prop("checked"),n=!!o.attr("checked"),(i&&!n||n&&!i)&&t.configure(o);break;default:t.configure(o)}})}});e(document).ready(function(){var s=o.Product.fromCurrent();s.on("addedtocart",function(e){e&&e.prop("id")?r.update().then(function(){r.show(),s.isLoading(!1)}):s.trigger("error",{message:t.getLabel("unexpectedError")})});var l=s.apiModel.data.content.productShortDescription.split(/\r\n|\n|\r/)||[];e("#mz-product-short-description").empty();var c=e("<ul></ul>");e.each(l,function(){var t=e("<li></li>").append(this);c.append(t)}),e("#mz-product-short-description").append(c),e("#mz-product-short-description").append('<a style="display:block;" class="text-center" href="#product-description-text">More Info</a>'),s.on("addedtowishlist",function(){e(".add-to-wishlist").attr("href","/myaccount/#account-wishlist").text(t.getLabel("addedToWishlist")),e(".mz-wishlist__item-count__wrapper").removeClass("is-empty"),e(".mz-wishlist__item-count").text(parseInt(e(".mz-wishlist__item-count").text())+1)});var h=new u({el:e("#product-detail"),model:s,messagesEl:e("[data-mz-message-bar]")}),f=(new a.ProductPageImagesView({el:e("[data-mz-productimages]"),model:s}),s.get("bundledProducts")),p=e("#bundled-product-properties");if(f&&f.length>0&&p[0]){var m,g=e(window),v=i.debounce(function(){g.scrollTop()>200&&y()},100);g.on("scroll",v);var y=function(){s.getBundledProductProperties({silent:!0}).ensure(function(){g.off("scroll",v),m.render()})},w=n.MozuView.extend({templateName:"modules/product/bundled-product-properties",render:function(){n.MozuView.prototype.render.apply(this,arguments),this.$el.removeClass("is-notloaded"),this.$el.off("inview",y).monitorView(!1),setTimeout(function(){e(".read-more").readmore({speed:75,maxHeight:120,sectionCSS:"display: block; width: 100%;",moreLink:'<div class="text-center"><a class="mz-button mz-button--small mz-button--more-info" href="#"><i class="icon icon-lg icon-plus"></i>More Info</a></div>',lessLink:'<div class="text-center"><a class="mz-button mz-button--small mz-button--more-info" href="#"><i class="icon icon-lg icon-minus"></i>Less Info</a></div>'})},500)},initialize:function(){this.$el.monitorView().on("inview",y)}});m=new w({el:e("#bundled-product-properties"),model:s})}window.productView=h,e("#product-container").noFlickerFadeIn(),d.productSummary('[data-mz-role="mz-product-review-summary"]'),d.productReviews('[data-mz-role="mz-product-reviews"]')})}),require(["jquery","modules/is-mobile","vendor/jquery-readmore"],function(e){e(document).ready(function(){e("#accordionProductDetail").on("show.bs.collapse hide.bs.collapse",function(t){e(t.target).siblings(".panel-heading").find(".panel-title").find("i").toggleClass("icon-plus-square icon-minus-square")}),setTimeout(function(){e(".read-more").readmore({speed:75,maxHeight:120,sectionCSS:"display: block; width: 100%;",moreLink:'<div class="text-center"><a class="mz-button mz-button--small mz-button--more-info" href="#"><i class="icon icon-lg icon-plus"></i>More Info</a></div>',lessLink:'<div class="text-center"><a class="mz-button mz-button--small mz-button--more-info" href="#"><i class="icon icon-lg icon-minus"></i>Less Info</a></div>'})},1)})}),define("pages/product",function(){}),define("shim!vendor/jquery-fitvids[jquery=jQuery]",["jquery"],function(e){return function(e){e.fn.fitVids=function(t){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],o=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",a=document.createElement("div");a.innerHTML='<p>x</p><style id="fit-vids-style">'+o+"</style>",n.appendChild(a.childNodes[1])}return t&&e.extend(i,t),this.each(function(){var t=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];i.customSelector&&t.push(i.customSelector);var n=".fitvidsignore";i.ignore&&(n=n+", "+i.ignore);var o=e(this).find(t.join(","));o=o.not("object object"),o=o.not(n),o.each(function(){var t=e(this);if(!(t.parents(n).length>0||"embed"===this.tagName.toLowerCase()&&t.parent("object").length||t.parent(".fluid-width-video-wrapper").length)){t.css("height")||t.css("width")||!isNaN(t.attr("height"))&&!isNaN(t.attr("width"))||(t.attr("height",9),t.attr("width",16));var i="object"===this.tagName.toLowerCase()||t.attr("height")&&!isNaN(parseInt(t.attr("height"),10))?parseInt(t.attr("height"),10):t.height(),o=isNaN(parseInt(t.attr("width"),10))?t.width():parseInt(t.attr("width"),10),a=i/o;if(!t.attr("id")){var r="fitvid"+Math.floor(999999*Math.random());t.attr("id",r)}t.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*a+"%"),t.removeAttr("height").removeAttr("width")}})})}}(e),null}),define("widgets/video",["modules/jquery-mozu","shim!vendor/jquery-fitvids[jquery=jQuery]","//www.youtube.com/iframe_api"],function(e){var t=function(){};return t.parseId=function(e){var t=/(youtu\.be\/|[?&]v=)([^&]+)/,i=e.match(t);return i&&i[2]?i[2]:void 0},t.bindVideo=function(){var i,n,o,a,r=e(this),d=r.data("url"),s=t.parseId(d),u=r.data("aspect-ratio");(s||!this.data("id"))&&(r.data("id",s),a=r.find("[class$=-video-player]").attr("id","youtube-player-"+s),"standard"==u?(i="3",n="4"):"widescreen"==u?(i="9",n="16"):(i="100%",n="100%"),o=new YT.Player("youtube-player-"+s,{height:i,width:n,videoId:s,playerVars:{enablejsapi:1,modestbranding:1,iv_load_policy:3,rel:0}}),r.data("edit"))},e(document).ready(function(){YT.ready(function(){e(".mz-cms-video-placeholder").each(t.bindVideo).fitVids(),e(document).on("mozuwidgetdrop",function(i){e(i.currentTarget).find(".mz-cms-video-placeholder").each(t.bindVideo).fitVids()})})}),t}),define("modules/product-video",["modules/models-product","widgets/video","modules/jquery-mozu","hyprlivecontext","modules/is-mobile","shim!vendor/jquery-fitvids[jquery=jQuery]","//www.youtube.com/iframe_api","shim!vendor/jquery-colorbox[jquery=jQuery]"],function(e,t,i,n,o){function a(e,t,i){return(new Array(i+1).join(t)+e).slice(-i)}var r=(n.locals.themeSettings,function(){var t,i=e.Product.fromCurrent().apiModel.data.properties;for(var n in i)if("Video Id"==i[n].attributeDetail.name){t=i[n].values[0].stringValue;break}return t.replace(" ","").split(",")});i(document).ready(function(){var e=r(),t='section[data-mz-tabs-id="videos"]',n=i(t);i.each(e,function(t,r){i.get("https://www.googleapis.com/youtube/v3/videos?id="+r+"&key=AIzaSyB4pEQ97-nkCiZ92tTH1aaex5ft3Smjx0c&part=snippet,contentDetails",function(r){console.log(r),1>t&&(n.append('<div class="mz-product-video-link"><a class="'+r.items[0].id+'" href="//www.youtube.com/embed/'+r.items[0].id+'"><img class="img-responsive" src="'+r.items[0].snippet.thumbnails.standard.url+'"/><i class="icon icon-5x icon-youtube-play product-video-icon"></i>&nbsp;</a></div>'),i("body").on("productVideoHidden",function(){n.find("iframe").each(function(){this.contentWindow.postMessage('{"event":"command", "func":"pauseVideo","args":""}',"*")})}),1==e.length&&(o?i(".mz-product-video-link a").colorbox({iframe:!0,width:"95%",height:"95%"}):i(".mz-product-video-link a").colorbox({iframe:!0,innerWidth:640,innerHeight:390}))),setTimeout(function(){var e=r.items[0].contentDetails.duration,t=parseInt(e.substring(e.indexOf("T")+1,e.indexOf("M"))),d=parseInt(e.substring(e.indexOf("M")+1,e.indexOf("S"))),s=a(t,"0",2)+":"+a(d,"0",2);n.append('<div class="mz-product-video-link"><a  href="//www.youtube.com/embed/'+r.items[0].id+'"><i class="icon icon-2x icon-youtube-play"></i>&nbsp;'+r.items[0].snippet.title+"</a><strong>"+s+"</strong></div>"),o?i(".mz-product-video-link a").colorbox({iframe:!0,width:"95%",height:"95%"}):i(".mz-product-video-link a").colorbox({iframe:!0,innerWidth:640,innerHeight:390})},1>t?1:500)})})})});